<!DOCTYPE html><html ng-app="snippetSaver"><head><meta charset="utf-8"><title>Snippet Saver</title><base href="/snippetSaver/"><link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png"><link rel="icon" type="image/png" href="favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="favicons/favicon-16x16.png" sizes="16x16"><link rel="manifest" href="manifest.json"><link rel="mask-icon" href="favicons/safari-pinned-tab.svg" color="#5bbad5"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/tomorrow.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"><style>@import url(https://fonts.googleapis.com/css?family=Francois+One);body{padding:10px;font-family:Lato}.snippet-card{border:1px solid #aaa;margin-top:10px;box-shadow:#ccc 2px 2px 2px;border-radius:0}.card-header{font-weight:700;font-size:16pt}.card-body [ace-editor]{height:150px}.card-body [markdown-to-html]{max-height:150px;overflow-y:auto;border:1px solid #ddd;border-top:0;padding:5px}.language{cursor:pointer;border:1px solid #aaa;margin-right:10px;background-color:#eee;color:#aaa;font-weight:700;border-radius:5px;padding:5px}[ng-click],[ui-sref]{cursor:pointer}.description-row textarea{border-top:none;border-radius:0;min-height:150px}h1,h5{color:#777;font-family:'Francois One',sans-serif}h1{color:#000}h2{margin-top:0}h5{color:#999;margin-bottom:0}@font-face{font-family:'Francois One';font-style:normal;font-weight:400;src:local('Francois One Regular'),local('FrancoisOne-Regular'),url(https://fonts.gstatic.com/s/francoisone/v10/bYbkq2nU2TSx4SwFbz5sCP8zf_FOSsgRmwsS7Aa9k2w.woff2) format('woff2');unicode-range:U+0102-0103,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Francois One';font-style:normal;font-weight:400;src:local('Francois One Regular'),local('FrancoisOne-Regular'),url(https://fonts.gstatic.com/s/francoisone/v10/bYbkq2nU2TSx4SwFbz5sCD0LW-43aMEzIO6XUTLjad8.woff2) format('woff2');unicode-range:U+0100-024F,U+1E00-1EFF,U+20A0-20AB,U+20AD-20CF,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Francois One';font-style:normal;font-weight:400;src:local('Francois One Regular'),local('FrancoisOne-Regular'),url(https://fonts.gstatic.com/s/francoisone/v10/bYbkq2nU2TSx4SwFbz5sCOgdm0LZdjqr5-oayXSOefg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215}</style><!-- CDN Dependencies --><script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular.js"></script><script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.2/angular-sanitize.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.6/ngStorage.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script><script src="//pc035860.github.io/angular-highlightjs/angular-highlightjs.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js"></script><script>"use strict";angular.module("templates",[]),angular.module("snippetSaver",["ngStorage","ui.router","templates","ng-showdown"]),angular.module("snippetSaver").config(["$locationProvider",function(e){e.html5Mode(0)}]),function(){angular.module("snippetSaver").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("root",{abstract:!0,url:"/",views:{header:{templateUrl:"client/layout/header.html",controller:"HeaderCtrl",controllerAs:"hc"}}}).state("root.mainBrowse",{url:"",views:{"body@":{templateUrl:"client/snippet-list/browse.html",controller:"BrowseCtrl",controllerAs:"bc"}}}).state("root.detail",{url:"snippet/:id",views:{"body@":{templateUrl:"client/snippet-detail/detail.html",controller:"SnippetDetailCtrl",controllerAs:"sdc"}}}),t.otherwise("/")}])}(),angular.module("snippetSaver").config(["$showdownProvider",function(e){showdown.setFlavor("github")}]),angular.module("snippetSaver").config(["$compileProvider",function(e){e.commentDirectivesEnabled(!1),e.cssClassDirectivesEnabled(!1)}]),angular.module("snippetSaver").controller("HeaderCtrl",["SnippetService","EditorManager","$timeout","copyTextToClipboard",function(e,t,n,o){var r=this;r.SnippetService=e,r.changeHandler=function(t){e.loadSnippets(t)},r.copy=function(e){var i=t.snippetIdToEditor(e);i.selectAll(),o(i.getCopyText()),r.lastCopied=e,n(function(){r.lastCopied=null},1e3),i.getSelection().clearSelection()}}]),angular.module("snippetSaver").service("EditorManager",function(){var e={editors:{},snippetIdToEditor:function(t){return e.editors[t]},updateEditorMap:function(t,n){e.editors[t]=n}};return e}),angular.module("snippetSaver").directive("aceEditor",["$state","EditorManager",function(e,t){return{restrict:"A",scope:{aceEditor:"=",language:"=",relatedId:"=",readonly:"@"},require:"?ngModel",link:function(n,o,r,i){function a(){var e=l.getValue();i.$setViewValue(e)}if(i){var l=ace.edit(o[0]);l.setTheme("ace/theme/monokai"),console.log(n.readonly),l.setReadOnly("true"==n.readonly);n.$watchGroup(["language","relatedId"],function(e){e&&e[0]&&(e[0]&&("C"!=e[0]&&"C++"!=e[0]||(e[0]="c_cpp"),"JS"==e[0]&&(e[0]="javascript"),l.getSession().setMode("ace/mode/"+e[0].toLowerCase())),e[1]&&t.updateEditorMap(e[1],l))});l.commands.addCommand({name:"save",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:function(t){e.go("root.mainBrowse")},readOnly:!0}),i.$render=function(){l.setValue(i.$viewValue||""),l.getSelection().clearSelection()},l.on("change",function(){n.$evalAsync(a)})}}}}]),angular.module("snippetSaver").directive("stringToArray",function(){return{require:"ngModel",link:function(e,t,n,o){o.$parsers.push(function(e){e.replace(/\s/g,"");var t=e.split(",");return t}),o.$formatters.push(function(e){if(e&&e.join)var t=e.join(", ");return t})}}}),angular.module("snippetSaver").directive("fileSelect",function(){return{restrict:"A",scope:{fileSelect:"&"},link:function(e,t,n){return t.on("change",function(n){return e.fileSelect({$event:n,files:t[0].files})})}}}),angular.module("snippetSaver").service("SnippetService",["$localStorage","$rootScope","$q",function(e,t,n){function o(e,t,n){var o=document.createElement("a"),r=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,t);else{var i=URL.createObjectURL(r);o.href=i,o.download=t,document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o),window.URL.revokeObjectURL(i)},0)}}var r={snippets:[],currentID:0,currentSnippet:{},addSnippet:function(e){e.id=r.currentID++,r.snippets.push(angular.copy(e)),r.saveSnippets(),r.currentSnippet={}},deleteSnippet:function(t){e.snippets=r.snippets=_.filter(r.snippets,function(e){return e.id!=t})},getSnippetById:function(e){return n.when(_.find(r.snippets,{id:e}))},saveSnippets:function(){e.snippets=r.snippets},saveFile:function(){o(angular.toJson(r.snippets),"data.json","json")},loadSnippets:function(n){var o=new FileReader;o.onload=function(n){e.snippets=r.snippets=angular.fromJson(o.result),r.currentID=_.last(r.snippets).id+1,t.$apply()},o.readAsText(n[0])}};return e.snippets&&e.snippets.length&&(r.snippets=e.snippets,r.currentID=_.last(r.snippets).id+1),r}]),angular.module("snippetSaver").service("copyTextToClipboard",function(){return function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{var n=document.execCommand("copy"),o=n?"successful":"unsuccessful";console.log("Copying text command was "+o)}catch(e){console.log("Oops, unable to copy")}document.body.removeChild(t)}}),angular.module("snippetSaver").controller("BrowseCtrl",["SnippetService","EditorManager","$timeout","copyTextToClipboard",function(e,t,n,o){var r=this;r.SnippetService=e,r.changeHandler=function(t){e.loadSnippets(t)},r.copy=function(e){var i=t.snippetIdToEditor(e);i.selectAll(),o(i.getCopyText()),r.lastCopied=e,n(function(){r.lastCopied=null},1e3),i.getSelection().clearSelection()}}]),angular.module("snippetSaver").controller("SnippetDetailCtrl",["SnippetService","$stateParams","$state",function(e,t,n){var o=this,r=this;r.showPreview=!0,e.getSnippetById(parseInt(t.id)).then(function(e){o.loadedSnippet=e})}]).run(["$document","$state",function(e,t){e.on("keydown",function(e){return"115"!=e.which&&"83"!=e.which||!e.ctrlKey&&!e.metaKey||(e.preventDefault(),t.go("root.mainBrowse"),!1)})}]);</script><script src="jsconcat.js"></script><script src="templates.js"></script></head><body><div ui-view="header"></div><hr><div ui-view="body"></div></body></html>
